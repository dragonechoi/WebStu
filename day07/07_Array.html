<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>JS Array object</title>
    </head>
    <body>

        <script>
            
            // 5.Array

            // 이미 배열 수업에 기본 사용법 소개..
            var arr= new Array(10,20,30);

            // 배열의 주요 기능 메소드들..
            
            // 1) 배열 붙이기..concat
            var arr1 =[3,4,5];
            var arr2 =arr.concat(arr1); //원본은 안바뀜
            document.write( arr2+"<br>" )
            document.write( arr1+"<br>" )
            document.write( arr+"<br>" )

            // 2)특정 요소값 위치 찾기 -indexof
            document.write( arr.indexOf()+"<br>" )
            document.write( arr.indexOf(30)+"<br>" )
            document.write( arr.indexOf(10,1)+"<br>")//배열의 1번방 부터 검색 시작

            //3) push,pop [stack]
            var stack=[1,2,3,4,5];
            document.write(stack +"<br>")

            stack.push(10); //새로운 값을 삽입 마지막에 추가됨
            document.write(stack+"<br>")

            var v= stack.pop(); //가장 마지막 요소가 꺼내짐.. [배열의 길이가 바뀜]
            document.write(stack+"<br>")

            //4) push, shift [queue]
            var que= [1,2,3,4,5];
            que.push(10); //새로운 데이터를 마지막에 삽입
            document.write(que + "<br>")

           var v= que.shift(); //가장 처음에 저장된 요소값이 꺼내짐
            document.write(que+"<br>")


            //5) sort -- 정렬. 실제 요소들의 위치가 변경됨
            var arr=[3,5,4,8,9,1,6,7]
            arr.sort(); // 실제 원본이 바뀜
            document.write(arr+"<br>")

            // 두자리수 일때 문제 발생..why? 데이터를 알파벳 순으로 .. 오름차순 정렬
            arr= [3,1,15,48,754,1234,54,90]
            arr.sort();
            document.write(arr+"<br>")

            // 해결 하려면.. sort()의 파라미터에 '정렬기준함수'를 넣어줌
            arr.sort( function(a,b){ return a-b }  ) //오름차순
            document.write(arr+"<br>")

            arr.sort( function(a,b){ return b-a }  ) //오름차순
            document.write(arr+"<br>")

            // 알파벳은 기본 오름차순
            var arr= ["abc","aab" ,"bbc","acb","cbd","cat"]
            arr.sort();
            document.write(arr+"<br>")

            // 알파뱃의 내림차순 정렬
            var desc=function(a,b){
                if(a>b)return-1
                if(b>a) return 1
                return 0
            }
            arr.sort(desc);
            document.write(arr+"<br>")

            // 6) slice -배열의 일부분을 잘라서 새로운 배열 리턴
            var arr=[10,20,30,40,50,60,70,80,90]
            var arr2 = arr.slice(3); //3번방부터 
            document.write(arr+"<br>")
            document.write(arr2+"<br>")
        
            var arr2 = arr.slice(3,6); //3번방부터 ~6번방 전까지
            document.write(arr+"<br>")
            document.write(arr2+"<br>")

            // 7) join - 배열의 요소를 특정문자를 구분자로 하여 하나의 문자열로 리턴
            var arr=["010","1234","5678"]
            var s=arr.join("-")
            document.write(s+"<br>")

            //8) filter - '지정함수' 이용[sort와 같음]
            var arr=[1,2,3,4,5,6,7,1,,2,3,4,5,3.14,12]
            // 배열 요소들 중에서 3보다 큰 값들만 ..
            var arr2=arr.filter( function(e){
                return e>3; //이 결과가 true인 e를 새로운 배열에 추가하여 최종 filter()의 리턴으로 배열을 내보냄
                
            })
            document.write(arr+"<br>")
            document.write(arr2+"<br>")

            // 요소의 값이 3보다 크고 index번호가 5이상인 요소들
            var arr3=arr.filter(function(e,index,array){
                return e>3 && index>=5
            })
            document.write(arr3+"<br>")

            // 9)revers - 배열의 요소순서를 뒤집기 - 원본 요소 위치변경
            var arr=["aa","bb","cc"]
            arr.reverse()
            document.write(arr+"<br>")

            ///////////////////////////////////////////////////////////////
            //ECMAscript5에서 새로이 추가된 배열 기능 메소드

            document.write("<hr>")
            var aa=[10,20,30,40,50]
            
            // 배열의 요소값의 각각 접근하는 반복문
            aa.forEach(function(value,index,array){
                document.write(index +": "+value+"<br>")
            });
            document.write("<hr>")

                // forEach()와 구조적으로 똑같지만 
                // 배열의 각 요소에 작업후 새로운 배열을 만들어
                // 리턴해 주는 메소드
                var bb=aa.map(function(value,index,array){
                    return value +1
                });
                document.write(bb +"<br>")
        </script>
        
    </body>
</html>