<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>JS es6 Arrow Function</title>
    </head>
    <body>

        <script>

            //3. 화살표함수(Arrow Function) - JAVA/Kotlin 의 람다표기

            //1) 일반적인 선언적 함수 
            function show(){
                document.write("Show!! <br>")
            }
            show()

            // 2) 함수를 변수에 저장하여 사용하기 : 익명함수 
            let output=function(){
                document.write("OutPut!!<br>")
            }
            // 익명함수 객체를 가지고 있는 output  변수를 함수명 처럼 사용하여 함수호출

            output()

            //3) 위 '익명함수'를  화살표 함수로 변경하여 사용해보기
            let display=()=>{
                document.write("display!! <br>")
            }
            display()

            // 당연히 화살표 함수도 파라미터를 받을 수 있음 
            let display2=(name) =>{
                document.write("display2 : "+name+"<br>")
            }
            display2("sam")

            //4) 화살표 함수의 간단 표기법 
            //4.1) 파라미터가 1개 뿐 이라면  ()
            let display3 = name =>{
                document.write("display3 : " + name + "<br>")
            }
            display3("robin")

            //4.2) 함수의 실행문이 1줄 이라면 
            let display4 = name => document.write("display4 : "+name+"<br>")
            display4("hong")

            //파라미터 0개일떄는 괄호 열고닫기 무조건 필수 
            let display5 = ()=>  document.write("display4 : "+"<br>")
            display5()

            //파라미터 두개 이상일경우떄도 생략 불가 무조건 한개
            let display6= (name,age )=> document.write(`display6: ${name} , ${age} <br>`)
            display6()
        </script>

        <hr>
        <!-- 일반적으로 화살표 함수는 이벤트 처리의 콜백함수로 많이 사용됨 -->
        <button id="b1">button</button>
        <h4 id="hh">Hello</h4>

        <script>

            // 버튼 클릭하여 h4요소의 글씨를 변경해보기 
            // 버튼에 클릭 이벤트 달기
            // 1) 예전방식 
            let d1 = document.getElementById('b1')
            b1.onclick=function(){
                document.getElementById('hh').innerHTML="click button"
            }
           
            //화살표 함수로도 사용
            b1.onclick= ()=> document.getElementById('hh').innerHTML="clickBtn"+"<br>"
            
            //반복문 처리에도 유용 
            let aaa=new Array(10,20,30)
            //반복문을 이용하여 배열의 요소들을 h4 요소에 출력 
            for(let i=0; i<aaa.length; i++){
                document.querySelector('#hh').innerHTML+=aaa[i]+"<br>"
            }
            document.write("<hr>")

            //in 키워드를 이용하여 배열의 인덱스 번호를 실수없이 사용
            for(index in aaa){
                document.querySelector("#hh").innerHTML+=aaa[index] + "<br>"
            }
            //in도 짜증 ...aaa[] 이 형태의 코드가 지저분함. 
            //그래서 배열의 요소 접근 기능메소드 활용  forech(), map()
            //배열 요소의 접근할떄 마다 파라미터의 함수가 호출 됨 
            aaa.forEach(function (value , index , array){
                document.write(index+" : "+value+"<br>")
            })

            //만약 요소값 value만 사용하고 싶다면 
            aaa.forEach(function (value){
                document.write(value+"<br>")
            })
            document.write("<hr>")

            // 이때 파라미터로 지정한 콜백 함수를 화살표 함수로 ...
            aaa.forEach((value)=>{
                document.write(value +"<br>")
            })
            document.write("<hr>")
            //더욱 간결하게 가능
            aaa.forEach(value => document.write(value+"<br>"))

            // 또다른 배열요소 접근기능 메소드 이용 : map()
            //배열의 요소 값들을 모두 1 증가 시키고 싶을떄... 
            //이 콜백 함수에서 리턴한 값들을 새로운 배열 요소로 만들어 추가함 그 배열을 리턴함
            // 리턴된 bbb는 새로운 배열 - aaa 배열과 갯수가 같음 
           let bbb= aaa.map(function(value){
                return value+1
            })
            document.write("결과 : "+bbb + "<br>") //배열 요소값을 자동출력 

            //위 작업을 화살표 함수로 처리 
            let ccc=aaa.map(value => {return value+1})
            document.write("결과 : "+ccc+ "<br>")

            //시랭문이 한줄이면
            // let ddd = aaa.map(value => return value+1) //ERROR - 실행문이 return 일떄 return 키워드도 반드시 생략 해야만 함 
            let ddd=aaa.map(value=> value+1)
            document.write("결과 : "+ddd+"<br>")

            //익명함수와 화살표 함수 안에서는 this는 다른 의미를 가짐 -- 이건 ReactNative 에서 소개 
        </script>

    </body>
</html>